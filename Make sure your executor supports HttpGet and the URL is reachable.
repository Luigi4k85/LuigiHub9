do local RunService=game:GetService("RunService");local TweenService=game:GetService("TweenService");local HttpService=game:GetService("HttpService");local Players=game:GetService("Players");local UserInputService=game:GetService("UserInputService");local LocalPlayer=Players.LocalPlayer;local Camera=workspace.CurrentCamera;local ok,Rayfield=pcall(function() return loadstring(game:HttpGet("https://raw.githubusercontent.com/shlexware/Rayfield/master/source"))();end);if ( not ok or  not Rayfield) then warn("Rayfield failed to load. Make sure your executor supports HttpGet and the URL is reachable.");return;end local DefaultSettings={Theme="Dark",Accent=Color3.fromRGB(0,170,255),AutoLoad=false,AutoFarm=false,ESPEnabled=true,AimbotEnabled=false,AimbotFOV=90,AimKey=Enum.UserInputType.Touch,InfiniteAmmo=false,RapidFire=false,NoRecoil=false,WalkSpeedEnabled=false,WalkSpeed=16,JumpPowerEnabled=false,JumpPower=50,FlyEnabled=false,FlySpeed=50,NoclipEnabled=false,GodModeEnabled=false,AutoFarmInterval=1,ESPTeamCheck=false};local SettingsFile="LuigiHubRivals_v3_Settings.json";local Settings=table.clone(DefaultSettings);local function loadSettings() if (isfile and isfile(SettingsFile)) then local ok,data=pcall(function() return HttpService:JSONDecode(readfile(SettingsFile));end);if (ok and (type(data)=="table")) then for k,v in pairs(DefaultSettings) do if (data[k]==nil) then data[k]=v;end end Settings=data;end end end local function saveSettings() if writefile then pcall(function() writefile(SettingsFile,HttpService:JSONEncode(Settings));end);end end pcall(loadSettings);local function notify(title,content,duration) pcall(function() Rayfield:Notify({Title=title or "Luigi Hub" ,Content=content or "" ,Duration=duration or 3 });end);end local function safeFindHumanoidRootPart(character) if  not character then return nil;end return character:FindFirstChild("HumanoidRootPart") or character:FindFirstChildWhichIsA("BasePart") ;end local function isAlive(player) if ( not player or  not player.Character) then return false;end local humanoid=player.Character:FindFirstChildOfClass("Humanoid");return humanoid and (humanoid.Health>0) ;end local Window=Rayfield:CreateWindow({Name="Luigi Hub | Rivals v3",LoadingTitle="Luigi Hub",LoadingSubtitle="Rivals v3 â€” Rayfield",ConfigurationSaving={Enabled=false},Discord={Enabled=false}});local tabMain=Window:CreateTab("Main");local tabVisuals=Window:CreateTab("Visuals");local tabMovement=Window:CreateTab("Movement");local tabSettings=Window:CreateTab("Settings");local tabInfo=Window:CreateTab("Info");local Feature={ESPHighlights={},ESPRunning=false,AimbotRunning=false,AutoFarmRunning=false,FlyObjects={},NoclipConn=nil,AutoFarmConn=nil};local function enableESP(enable) Settings.ESPEnabled=enable;saveSettings();if (enable and  not Feature.ESPRunning) then Feature.ESPRunning=true;spawn(function() while Feature.ESPRunning do for _,pl in pairs(Players:GetPlayers()) do if ((pl~=LocalPlayer) and isAlive(pl)) then if (Settings.ESPTeamCheck and (pl.Team==LocalPlayer.Team)) then else local char=pl.Character;local hrp=safeFindHumanoidRootPart(char);if hrp then if ( not Feature.ESPHighlights[pl] or  not Feature.ESPHighlights[pl].Parent) then local ok,highlight=pcall(function() local h=Instance.new("Highlight");h.Name="LuigiESP";h.Adornee=char;h.DepthMode=Enum.HighlightDepthMode.AlwaysOnTop;h.FillTransparency=0.6;h.OutlineTransparency=0.5;h.Parent=game:GetService("CoreGui");return h;end);if (ok and highlight) then Feature.ESPHighlights[pl]=highlight;end end end end elseif Feature.ESPHighlights[pl] then pcall(function() Feature.ESPHighlights[pl]:Destroy();end);Feature.ESPHighlights[pl]=nil;end end for pl,h in pairs(Feature.ESPHighlights) do if ( not Players:FindFirstChild(pl.Name) or  not isAlive(pl) or (Settings.ESPTeamCheck and (pl.Team==LocalPlayer.Team))) then pcall(function() h:Destroy();end);Feature.ESPHighlights[pl]=nil;end end task.wait(0.8);end for pl,h in pairs(Feature.ESPHighlights) do pcall(function() h:Destroy();end);end Feature.ESPHighlights={};end);elseif ( not enable and Feature.ESPRunning) then Feature.ESPRunning=false;end end local function autoFarmLoop(interval) if Feature.AutoFarmRunning then return;end Feature.AutoFarmRunning=true;spawn(function() while Feature.AutoFarmRunning do pcall(function() local char=LocalPlayer.Character;if char then local tool=char:FindFirstChildWhichIsA("Tool");if (tool and (tool.Parent==char)) then if (tool:FindFirstChild("Activate") and tool.Activate:IsA("RemoteEvent")) then pcall(function() tool.Activate:FireServer();end);elseif tool.Activate then pcall(function() tool:Activate();end);else pcall(function() tool:FireServer();end);end end end local commonRemotes={"Collect","Harvest","Pickup","Use","Click","Fire","FireServer"};for _,rname in ipairs(commonRemotes) do local rs=game:GetService("ReplicatedStorage");if (rs and rs:FindFirstChild(rname) and rs[rname]:IsA("RemoteEvent")) then pcall(function() rs[rname]:FireServer();end);end if (workspace:FindFirstChild(rname) and workspace[rname]:IsA("RemoteEvent")) then pcall(function() workspace[rname]:FireServer();end);end if LocalPlayer.Backpack then for _,v in pairs(LocalPlayer.Backpack:GetChildren()) do if (v.Name:lower():match(rname:lower()) and v:IsA("Tool")) then pcall(function() if v.Activate then v:Activate();end end);end end end end end);task.wait(interval or Settings.AutoFarmInterval or 1 );end Feature.AutoFarmRunning=false;end);end local function stopAutoFarm() Feature.AutoFarmRunning=false;end local function getClosestEnemy(maxFOV) maxFOV=maxFOV or Settings.AimbotFOV ;local closest,shortest=nil,maxFOV;local mouse=LocalPlayer:GetMouse();if  not Camera then Camera=workspace.CurrentCamera;end for _,pl in pairs(Players:GetPlayers()) do if ((pl~=LocalPlayer) and isAlive(pl)) then if (Settings.ESPTeamCheck and (pl.Team==LocalPlayer.Team)) then else local char=pl.Character;local hrp=safeFindHumanoidRootPart(char);if hrp then local screenPos,onScreen=Camera:WorldToViewportPoint(hrp.Position);if onScreen then local dx=screenPos.X-mouse.X ;local dy=screenPos.Y-mouse.Y ;local dist=math.sqrt(dxdx + dydy );if (dist<shortest) then shortest=dist;closest=pl;end end end end end end return closest;end local aimConn;local function setAimbot(enable) Settings.AimbotEnabled=enable;saveSettings();if (enable and  not Feature.AimbotRunning) then Feature.AimbotRunning=true;notify("Aimbot","Aim assist enabled",3);aimConn=RunService.RenderStepped:Connect(function(dt) if  not Settings.AimbotEnabled then return;end if ( not LocalPlayer.Character or  not Camera) then return;end local target=getClosestEnemy(Settings.AimbotFOV);if (target and target.Character) then local hrp=safeFindHumanoidRootPart(target.Character);if hrp then local camPos=Camera.CFrame.Position;local targetPos=hrp.Position;local newCF=CFrame.new(camPos,targetPos);Camera.CFrame=Camera.CFrame:Lerp(newCF,math.clamp(12 * dt ,0,1));end end end);elseif ( not enable and Feature.AimbotRunning) then Feature.AimbotRunning=false;if aimConn then aimConn:Disconnect();aimConn=nil;end notify("Aimbot","Aim assist disabled",2);end end local function applyWalkSpeed(enable) Settings.WalkSpeedEnabled=enable;saveSettings();spawn(function() while Settings.WalkSpeedEnabled do local char=LocalPlayer.Character;if char then local hum=char:FindFirstChildOfClass("Humanoid");if hum then pcall(function() hum.WalkSpeed=Settings.WalkSpeed;end);end end task.wait(0.5);end end);end local function applyJumpPower(enable) Settings.JumpPowerEnabled=enable;saveSettings();spawn(function() while Settings.JumpPowerEnabled do local char=LocalPlayer.Character;if char then local hum=char:FindFirstChildOfClass("Humanoid");if hum then pcall(function() hum.JumpPower=Settings.JumpPower;end);end end task.wait(0.5);end end);end local flyBV,flyBG;local function setFly(enable) Settings.FlyEnabled=enable;saveSettings();if enable then local char=LocalPlayer.Character;if  not char then notify("Fly","No character found",3);return;end local hrp=safeFindHumanoidRootPart(char);if  not hrp then notify("Fly","No HumanoidRootPart found",3);return;end flyBV=Instance.new("BodyVelocity");flyBV.MaxForce=Vector3.new(100000,100000,100000);flyBV.Velocity=Vector3.new(0,0,0);flyBV.Parent=hrp;flyBG=Instance.new("BodyGyro");flyBG.MaxTorque=Vector3.new(100000,100000,100000);flyBG.Parent=hrp;local moveVector=Vector3.new(0,0,0);local speed=Settings.FlySpeed or 50 ;local conn;conn=RunService.RenderStepped:Connect(function() if  not Settings.FlyEnabled then conn:Disconnect();return;end local look=Camera.CFrame;local forward=look.LookVector;local right=look.RightVector;moveVector=Vector3.new(0,0,0);if UserInputService:IsKeyDown(Enum.KeyCode.W) then moveVector=moveVector + forward ;end if UserInputService:IsKeyDown(Enum.KeyCode.S) then moveVector=moveVector-forward ;end if UserInputService:IsKeyDown(Enum.KeyCode.A) then moveVector=moveVector-right ;end if UserInputService:IsKeyDown(Enum.KeyCode.D) then moveVector=moveVector + right ;end if UserInputService:IsKeyDown(Enum.KeyCode.Space) then moveVector=moveVector + Vector3.new(0,1,0) ;end if UserInputService:IsKeyDown(Enum.KeyCode.LeftControl) then moveVector=moveVector-Vector3.new(0,1,0) ;end if (moveVector.Magnitude>0) then flyBV.Velocity=moveVector.Unit * speed ;else flyBV.Velocity=Vector3.new(0,0,0);end flyBG.CFrame=CFrame.new(hrp.Position,hrp.Position + Camera.CFrame.LookVector );end);notify("Fly","Fly enabled (use WASD + Space/CTRL)",4);else if flyBV then pcall(function() flyBV:Destroy();end);flyBV=nil;end if flyBG then pcall(function() flyBG:Destroy();end);flyBG=nil;end notify("Fly","Fly disabled",2);end end local function setNoclip(enable) Settings.NoclipEnabled=enable;saveSettings();if enable then Feature.NoclipConn=RunService.Stepped:Connect(function() local char=LocalPlayer.Character;if char then for _,part in pairs(char:GetDescendants()) do if (part:IsA("BasePart") and part.CanCollide) then pcall(function() part.CanCollide=false;end);end end end end);notify("Noclip","Noclip enabled",2);else if Feature.NoclipConn then Feature.NoclipConn:Disconnect();Feature.NoclipConn=nil;end local char=LocalPlayer.Character;if char then for _,part in pairs(char:GetDescendants()) do if part:IsA("BasePart") then pcall(function() part.CanCollide=true;end);end end end notify("Noclip","Noclip disabled",2);end end local function setGodMode(enable) Settings.GodModeEnabled=enable;saveSettings();if enable then spawn(function() while Settings.GodModeEnabled do local char=LocalPlayer.Character;if char then local hum=char:FindFirstChildOfClass("Humanoid");if hum then pcall(function() hum.MaxHealth=math.huge;hum.Health=hum.MaxHealth;end);end end task.wait(1);end end);notify("God Mode","God Mode enabled",2);else notify("God Mode","God Mode disabled (may be overridden by server)",2);end end local infiniteAmmoToggleRef;local rapidFireToggleRef;local noRecoilToggleRef;local function applyCombatPatches() local function patchTool(tool) pcall(function() if (tool and tool:IsA("Tool")) then if (Settings.InfiniteAmmo and tool:FindFirstChild("Ammo") and tool.Ammo:IsA("NumberValue")) then tool.Ammo.Value=math.huge;end if (Settings.RapidFire and tool:FindFirstChild("FireRate") and tool.FireRate:IsA("NumberValue")) then tool.FireRate.Value=math.min(0.01,tool.FireRate.Value/4 );end if Settings.NoRecoil then if (tool:FindFirstChild("Recoil") and tool.Recoil:IsA("NumberValue")) then tool.Recoil.Value=0;end if (tool:FindFirstChild("Spread") and tool.Spread:IsA("NumberValue")) then tool.Spread.Value=0;end end end end);end local function applyToCharacter(char) task.wait(1);for _,tool in pairs(char:GetChildren()) do patchTool(tool);end if infiniteAmmoToggleRef then infiniteAmmoToggleRef:SetValue(Settings.InfiniteAmmo);end if rapidFireToggleRef then rapidFireToggleRef:SetValue(Settings.RapidFire);end if noRecoilToggleRef then noRecoilToggleRef:SetValue(Settings.NoRecoil);end if (Settings.InfiniteAmmo or Settings.RapidFire or Settings.NoRecoil) then notify("Combat Patches","InfiniteAmmo / RapidFire / NoRecoil reapplied",2);end end if LocalPlayer.Character then applyToCharacter(LocalPlayer.Character);end LocalPlayer.CharacterAdded:Connect(applyToCharacter);spawn(function() while true do if (Settings.InfiniteAmmo or Settings.RapidFire or Settings.NoRecoil) then for _,v in pairs(LocalPlayer.Backpack:GetChildren()) do patchTool(v);end if LocalPlayer.Character then for _,v in pairs(LocalPlayer.Character:GetChildren()) do patchTool(v);end end end task.wait(1);end end);end tabMain:CreateToggle({Name="AutoFarm",CurrentValue=Settings.AutoFarm,Flag="AutoFarm",Callback=function(val) Settings.AutoFarm=val;saveSettings();if val then autoFarmLoop(Settings.AutoFarmInterval);else stopAutoFarm();end end});tabMain:CreateToggle({Name="Aimbot",CurrentValue=Settings.AimbotEnabled,Flag="Aimbot",Callback=function(val) setAimbot(val);end});tabMain:CreateSlider({Name="Aimbot FOV",CurrentValue=Settings.AimbotFOV,Min=10,Max=180,Flag="AimbotFOV",Callback=function(val) Settings.AimbotFOV=val;saveSettings();end});tabMain:CreateToggle({Name="Infinite Ammo",CurrentValue=Settings.InfiniteAmmo,Flag="InfiniteAmmo",Callback=function(val) Settings.InfiniteAmmo=val;saveSettings();applyCombatPatches();end,Reference=function(ref) infiniteAmmoToggleRef=ref;end});tabMain:CreateToggle({Name="Rapid Fire",CurrentValue=Settings.RapidFire,Flag="RapidFire",Callback=function(val) Settings.RapidFire=val;saveSettings();applyCombatPatches();end,Reference=function(ref) rapidFireToggleRef=ref;end});tabMain:CreateToggle({Name="No Recoil",CurrentValue=Settings.NoRecoil,Flag="NoRecoil",Callback=function(val) Settings.NoRecoil=val;saveSettings();applyCombatPatches();end,Reference=function(ref) noRecoilToggleRef=ref;end});tabVisuals:CreateToggle({Name="ESP",CurrentValue=Settings.ESPEnabled,Flag="ESPEnabled",Callback=function(val) enableESP(val);end});tabVisuals:CreateToggle({Name="Team Check (ESP)",CurrentValue=Settings.ESPTeamCheck,Flag="ESPTeamCheck",Callback=function(val) Settings.ESPTeamCheck=val;saveSettings();end});tabMovement:CreateToggle({Name="WalkSpeed",CurrentValue=Settings.WalkSpeedEnabled,Flag="WalkSpeedEnabled",Callback=function(val) applyWalkSpeed(val);end});tabMovement:CreateSlider({Name="WalkSpeed Value",CurrentValue=Settings.WalkSpeed,Min=16,Max=500,Flag="WalkSpeedValue",Callback=function(val) Settings.WalkSpeed=val;if Settings.WalkSpeedEnabled then applyWalkSpeed(true);end saveSettings();end});tabMovement:CreateToggle({Name="JumpPower",CurrentValue=Settings.JumpPowerEnabled,Flag="JumpPowerEnabled",Callback=function(val) applyJumpPower(val);end});tabMovement:CreateSlider({Name="JumpPower Value",CurrentValue=Settings.JumpPower,Min=50,Max=500,Flag="JumpPowerValue",Callback=function(val) Settings.JumpPower=val;if Settings.JumpPowerEnabled then applyJumpPower(true);end saveSettings();end});tabMovement:CreateToggle({Name="Fly",CurrentValue=Settings.FlyEnabled,Flag="FlyEnabled",Callback=function(val) setFly(val);end});tabMovement:CreateSlider({Name="Fly Speed",CurrentValue=Settings.FlySpeed,Min=10,Max=500,Flag="FlySpeed",Callback=function(val) Settings.FlySpeed=val;if Settings.FlyEnabled then setFly(true);end saveSettings();end});tabMovement:CreateToggle({Name="Noclip",CurrentValue=Settings.NoclipEnabled,Flag="NoclipEnabled",Callback=function(val) setNoclip(val);end});tabMovement:CreateToggle({Name="God Mode",CurrentValue=Settings.GodModeEnabled,Flag="GodModeEnabled",Callback=function(val) setGodMode(val);end});notify("Luigi Hub","Rivals v3 loaded successfully!",3); end
